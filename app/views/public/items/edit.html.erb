<div class="container">
  <h1>商品編集</h1>

  <div class="row">
    <div class="offreset col-md-8 offset-2">
      <%= form_with model: @item, url: group_item_path(params[:group_id], @item), method: :patch, local: true do |f| %>
        <form class="form-horizontal d-flex justify-content-center">
          <div class="card">
            <div class="card-body">
              <div class="my-3 d-flex justify-content-center align-items-center">
                <p class="col-sm-4 col-md-3 m-0">商品名:</p>
                <div class="col-sm-7 col-md-6">
                  <p class="m-0"><%= @item.name %></p>
                </div>
              </div>

              <div class="my-3 d-flex justify-content-center align-items-center">
                <p class="col-sm-4 col-md-3 m-0">購入先サイト:</p>
                <div class="col-sm-7 col-md-6">
                  <p class="m-0"><%= @item.site %></p>
                </div>
              </div>

              <div class="my-3 d-flex justify-content-center align-items-center">
                <p class="col-sm-4 col-md-3 m-0">コード:</p>
                <div class="col-sm-7 col-md-6">
                  <p class="m-0"><%= @item.code %></p>
                </div>
              </div>

              <div class="my-3 d-flex justify-content-center align-items-center">
                <p class="col-sm-4 col-md-3 m-0">内容量:</p>
                <div class="col-sm-7 col-md-6">
                  <p class="m-0"><%= @item.capacity %></p>
                </div>
              </div>

              <div class="d-flex justify-content-center align-items-center">
                <%= f.label :tag, "タグ：", class:"col-sm-4 col-md-3 m-0 control-label" %>
                <div class="col-sm-7 col-md-6">
                  <%# Edit用にf.tags.pluck(:name)でタグの配列を取得 %>
                  <%= f.text_field :tag, value: @item.tags.pluck(:name).join(' '), class:"form-control" %>
                </div>
              </div>
              <small class="small-text-edit">スペースで区切ることで複数指定できます。</small>

              <div class="d-flex justify-content-around text-center mt-5">
                <%= link_to "変更しない", group_items_path(params[:group_id]), class:"btn btn-secondary" %>
                <%= f.submit "変更する", class: "btn btn-info" %>
              </div>
            </div>
          </div>
        </form>
      <% end %>
    </div>
  </div>
</div>
