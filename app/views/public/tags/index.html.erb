<div class="container">
  <h1>タグ一覧</h1>
  <% if @tags.count == 0 %>
    <p class="text-center m-5">タグのついた商品はありません</p>
  <% else %>
    <div class="row">

      <% @tags.each_with_index do |tag, i| %>
        <div class="col-md-3">
          <ul class="list-group text-center" style="border-radius: 20px;">
            <li class="list-group-item mb-3">
              <%# タグの名前と、関連付く記事数を表示 %>
              <%= "#{tag.name} ( 登録商品: #{tag.items.count} )" %>
              <input type="button" value="+" onclick="clickBtn(<%= i %>)" />
              <!--<input type="button" value="ボタン1" onclick="clickBtn<%#= i %>()" />-->
              <ul class="list-group" id="p<%= i %>">
                <% tag.items.each do |item| %>
                  <li class="list-group-item">
                    <%= link_to item.name, group_item_path(params[:group_id], item) %>
                  </li>
                <% end %>
              </ul>
            </li>
          </ul>
        </div>
      <% end %>
    </div>
  <% end %>

  <div class="d-flex justify-content-around">
    <%= link_to "商品一覧に戻る", group_items_path(params[:group_id]), class:"btn btn-secondary" %>
  </div>
</div>

<script>
  //初期表示は非表示
  document.getElementById("p" + i).style.display ="none";
  function clickBtn(i){
  	const p = document.getElementById("p" + i);
  	if(p.style.display=="block"){
  		// noneで非表示
  		p.style.display ="none";
  	}else{
  		// blockで表示
  		p.style.display ="block";
  	}
  }
</script>